# 1.分布式锁实现，会出现哪些问题？
使用redis setnx命令，不同线程只有一个可以获取成功
问题：
1. 死锁问题。锁获取但没有释放，可能出现问题，因此需要设置一个ttl过期时间
2. 锁竞争问题。并发量大的情况，可能导致系统性能下降，因此可以给请求设置一个自旋次数，甚至改进到自适应自旋锁，一定次数没有获取就返回。
3. 锁的ttl时间太短，业务执行期间就释放，其他线程获取到锁就出现问题。像Redisson里面的看门狗机制就可以解决这个问题。
